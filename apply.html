<!DOCTYPE html>
<html>
<head>
  <title>Apply for Bursary</title>
  <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
  <header>
    <img src="images/hi.jpg" alt="Kericho County">
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="login.html">Login</a></li>
        <li><a href="register.html">Register</a></li>
        <li><a href="logout.html">Logout</a></li>
        <li><a href="applictionstatus.html">Application Status</a></li>
      </ul>
    </nav>
  </header>
  
  <main>
    <section id="apply">
      <h2>Apply for Bursary</h2>
      <p>Please download the form, fill it out, and then submit the completed form using the upload option below.</p>

      <div class="form-group">
        <a href="/assets/form.pdf" download>Download Form</a>
      </div>

      <form id="bursaryForm" enctype="multipart/form-data" action="#">
        <div class="form-group">
          <label for="name">Full Name:</label>
          <input type="text" id="name" name="name" required>
        </div>
        
        <div class="form-group">
          <label for="email">Email:</label>
          <input type="email" id="email" name="email" required>
        </div>
        
        <div class="form-group">
          <label for="university">University:</label>
          <input type="text" id="university" name="university" required>
        </div>
        
        <div class="form-group">
          <label for="gpa">GPA:</label>
          <input type="text" id="gpa" name="gpa" required>
        </div>
        
        <!-- Hidden field to store the generated unique ID -->
        <input type="hidden" id="uniqueId" name="uniqueId" value="">
        
        <div class="form-group">
          <label for="filledForm">Upload Filled Form:</label>
          <input type="file" id="filledForm" name="filledForm" accept=".pdf, .doc, .docx" required>
        </div>

        <div class="form-group">
          <input type="submit" value="Submit" class="btn-submit">
        </div>
      </form>

      <!-- Success message container (hidden by default) -->
      <div id="successMessage" class="success-message" style="display: none;">
        <p>Registration successful! You have applied for the bursary.</p>
      </div>
    </section>
  </main>

  <footer>
    <p>&copy; 2023 Bursary Application. All rights reserved.</p>
  </footer>

  <script>
    // Function to generate a random 8-character alphanumeric string
    function generateUniqueId() {
      const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
      let result = '';
      for (let i = 0; i < 8; i++) {
        const randomIndex = Math.floor(Math.random() * characters.length);
        result += characters.charAt(randomIndex);
      }
      return result;
    }

    // Function to display a success message after successful registration
    function displaySuccessMessage() {
      // Hide the form
      document.getElementById('apply').style.display = 'none';
      
      // Display the success message
      const successMessage = document.getElementById('successMessage');
      successMessage.style.display = 'block';
    }

    // Add event listener to the form submission
    document.getElementById('bursaryForm').addEventListener('submit', function(event) {
      // Prevent the default form submission
      event.preventDefault();

      // Generate a unique ID (For demonstration purposes, we're using a fixed value instead of generating it)
      const uniqueId = 'B1234567';
      
      // Set the unique ID to the hidden field
      document.getElementById('uniqueId').value = uniqueId;

      // Display a success message after a short delay to simulate form submission
      setTimeout(displaySuccessMessage, 2000);
    });
  </script>

  <link rel="stylesheet" type="text/css" href="styles.css">
</body>
</html>
