<!DOCTYPE html>
<html>
<head>
  <title>Apply for Bursary</title>
  <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
  <header>
    <img src="images/hi.jpg" alt="Kericho County">
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="login.html">Login</a></li>
        <li><a href="register.html">Register</a></li>
        <li><a href="logout.html">Logout</a></li>
        <li><a href="applicationstatus.html">Application Status</a></li>
      </ul>
    </nav>
  </header>
  
  <main>
    <section id="apply">
      <h2>Apply for Bursary</h2>
      <p>Please download the form, fill it out, and then submit the completed form using the upload option below.</p>

      <div class="form-group">
        <a href="/assets/form.pdf" download>Download Form</a>
      </div>

      <form id="bursaryForm" enctype="multipart/form-data" action="#">
        <div class="form-group">
          <label for="name">Full Name:</label>
          <input type="text" id="name" name="name" required>
        </div>
        
        <div class="form-group">
          <label for="email">Email:</label>
          <input type="email" id="email" name="email" required>
        </div>
        
        <div class="form-group">
          <label for="university">University:</label>
          <input type="text" id="university" name="university" required>
        </div>
        
        <div class="form-group">
          <label for="gpa">GPA:</label>
          <input type="text" id="gpa" name="gpa" required>
        </div>
        
        <!-- Hidden field to store the generated unique ID (Application ID) -->
        <input type="hidden" id="uniqueId" name="uniqueId" value="">
        
        <div class="form-group">
          <label for="filledForm">Upload Filled Form:</label>
          <input type="file" id="filledForm" name="filledForm" accept=".pdf, .doc, .docx" required>
        </div>

        <div class="form-group">
          <input type="submit" value="Submit" class="btn-submit">
        </div>
      </form>

      <!-- Popup message container (hidden by default) -->
      <div id="popupMessage" class="popup-message" style="display: none;">
        <p id="popupContent"></p>
      </div>
    </section>
  </main>

  <footer>
    <p>&copy; 2023 Bursary Application. All rights reserved.</p>
  </footer>

  <script>
    // Function to generate a random alphanumeric string (Application ID)
    function generateApplicationId() {
      const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
      let applicationId = '';
      for (let i = 0; i < 8; i++) {
        const randomIndex = Math.floor(Math.random() * characters.length);
        applicationId += characters.charAt(randomIndex);
      }
      return applicationId;
    }

    // Function to display the success message as a popup
    function displayPopupMessage(message) {
      // Display the popup message container
      const popupMessage = document.getElementById('popupMessage');
      popupMessage.style.display = 'block';

      // Set the popup message content
      const popupContent = document.getElementById('popupContent');
      popupContent.textContent = message;

      // Hide the popup after a short delay (e.g., 3 seconds)
      setTimeout(function() {
        popupMessage.style.display = 'none';
      }, 100000);
    }

    // Add event listener to the form submission
    document.getElementById('bursaryForm').addEventListener('submit', function(event) {
      // Prevent the default form submission
      event.preventDefault();

      // Generate a unique ID (Application ID)
      const applicationId = generateApplicationId();
      
      // Set the application ID to the hidden field
      document.getElementById('uniqueId').value = applicationId;

      // Display the success message as a popup
      const successMessage = `Registration successful! You have applied for the bursary. Your Application ID is: ${applicationId}`;
      displayPopupMessage(successMessage);
    });
  </script>

  <link rel="stylesheet" type="text/css" href="styles.css">
</body>
</html>
